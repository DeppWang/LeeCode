Node结构

![image.png](https://upload-images.jianshu.io/upload_images/5863464-6f4ce5e746561c68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



**最关键的点**：头结点dummyHead与curr共同链接curr.next链表，如果没有dummyHead，curr只会是最后一个节点。

**原理**：dummyHead最开始就链接上了curr.next，再while循环中，又依次链接当前节点curr（可以通过debug查看具体过程）。此题最重要的就是理解这个思想。

![image.png](https://upload-images.jianshu.io/upload_images/5863464-0335fcbe8748469b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


```
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode dummyHead = new ListNode(0);
        ListNode curr = dummyHead;//当前节点与dummyHead共同链接到curr.next
        int carry = 0;//用于进位，进位为1，默认为0
        while (l1 != null || l2 != null) {//使用||，因为l1和l2可能长度不一致
            int x = l1 == null ? 0 : l1.val;//三元运算符避免l1.val报错
            int y = l2 == null ? 0 : l2.val;
            int sum = x + y + carry;//carry为0时，对结果没有影响
            carry = sum / 10;//取整，0或1
            curr.next = new ListNode(sum % 10);//取余
            curr = curr.next;//当前节点变为下一个节点，循环的关键
            if (l1 != null)//不能为空，否则l1.next报错
                l1 = l1.next;//l1.next可以为空
            if (l2 != null)
                l2 = l2.next;//l2.next与l1.next均为空时，结束循环，避免无限循环
        }
        if (carry == 1) {//[5]+[5]->[10]
            curr.next = new ListNode(carry);
        }
        return dummyHead.next;//首节点不要
    }
}
```
## 测试用例

输入 | 情况
---|---
l1=[0,1]，l2=[0,1,2] | 长度不一致
l1=[]，l2=[0,1] | 一个为空
l1=[9,9]，l2=[1] | 进位


![官方图解](https://upload-images.jianshu.io/upload_images/5863464-bee80e082250015e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


