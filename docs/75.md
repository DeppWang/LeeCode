# [75. Sort Colors](https://leetcode-cn.com/problems/sort-colors/)

```
Input: [2,0,2,1,1,0]
Output: [0,0,1,1,2,2]
```

### 思路

- 只有 3 种元素，红黄蓝。可不用正常的快速排序
- 使用 0、1、2 表示三个元素，一一判断。入股市
- 遍历，小于前一个元素，交换；一一交换还是只交换一次？

### 代码



### 快速排序

```Python
# Python3
# 使用快速排序
class Solution:
    def sortColors(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        import random

        def partition(left, right):
            # right - left < 1
            if left >= right:
                return

            # 随机选择一个元素作为 pivot
            pivot_index = random.randint(left, right)
            pivot = nums[pivot_index]

            # 1. 将中位数与末尾数交换，便于操作
            nums[pivot_index], nums[right] = nums[right], nums[pivot_index]

            # 2. 使用快慢指针，将所有小于中位数的元素移动到左边
            store_index = left
            for i in range(left, right):
                if nums[i] <= pivot:
                    nums[store_index], nums[i] = nums[i], nums[store_index]
                    store_index += 1

            # 3. store_index 位置元素肯定大于等于 pivot，所以交换
            nums[right], nums[store_index] = nums[store_index], nums[right]

            # 因为 pivot 在中间，所以减 1
            partition(left, store_index - 1)
            # 因为 pivot 在中间，所以加 1
            partition(store_index + 1, right)

        partition(0, len(nums) - 1)
```

快速排序：

- 时间复杂度 O(n * log n)
- 空间复杂度 O(log n) ~ O(n)

### 测试用例

```
[2,0,2,1,1,0]
[0,0,1,1,2,2]

[2,0,1]
[0,1,2]
```

