## 思路

```
[-1, 0, 1, 2, -1, -4]
                        sort()
[-4, -1, -1, 0, 1, 2]   sum = -4 + -1 + 2 = -3 < 0 ∴ left 右移
  ^i  ^left        ^right
[-4, -1, -1, 0, 1, 2]   ∵ -1 == -1 ∴ 跳过
  ^       ^        ^
[-4, -1, -1, 0, 1, 2]   sum = -4 + 0 + 2 = -2 < 0  ∴ left 右移
  ^          ^     ^
[-4, -1, -1, 0, 1, 2]   sum = -4 + 1 + 2 = -1 < 0  ∴ left 右移
  ^             ^  ^
[-4, -1, -1, 0, 1, 2]   left right 重叠  ∴ i 右移
  ^                ^^
[-4, -1, -1, 0, 1, 2]   sum = -1 + -1 + 2 = 0  
      ^   ^        ^
[-4, -1, -1, 0, 1, 2]   sum = -1 + 0 + 1 = 0  
      ^      ^  ^
[-4, -1, -1, 0, 1, 2]   跳过
          ^
[-4, -1, -1, 0, 1, 2]   sum = 0 + 1 + 2 = 2 > 0
             ^  ^  ^
```

- 先排序
- i 始终小于等于 0，将三数之和，简化为两数之和，
- 结束条件为左右指针相遇
- 跳过重复
- 大于 0 时，右指针左移；小于 0 时，左指针右移；等于时，两指针同时内移
- 时间复杂度：部分 n * 1/2 n = O(n^2)
- 空间复杂度：O(n) 每次循环都需要额外空间

## 代码

```Python
class Solution:
    def threeSum(self, nums):
        res = []
        if nums is None or len(nums) < 3:
            return res
        nums.sort()
        for i in range(len(nums)):
            if nums[i] > 0: break
            if i > 0 and nums[i] == nums[i - 1]: continue
            left, right = i + 1, len(nums) - 1
            while left < right:
                x = 0 - nums[i]
                y = nums[left] + nums[right]
                if x == y:
                    res.append([nums[i], nums[left], nums[right]])
                    while left < right and nums[left] == nums[left + 1]: left += 1
                    while left < right and nums[right] == nums[right - 1]: right -= 1
                    left += 1
                    right -= 1
                elif x > y: left += 1
                else: right -= 1
        return res
```

```Python
class Solution:
    def threeSum(self, nums):
        res = []
        if nums is None or len(nums) < 3:
            return res
        nums.sort()
        for i in range(len(nums)):
            if nums[i] > 0: break
            if i > 0 and nums[i] == nums[i - 1]: continue
            left, right = i + 1, len(nums) - 1
            while left < right:
                sum = nums[i] + nums[left] + nums[right]
                if sum == 0:
                    res.append([nums[i], nums[left], nums[right]])
                    while left < right and nums[left] == nums[left + 1]: left += 1
                    while left < right and nums[right] == nums[right - 1]: right -= 1
                    left += 1
                    right -= 1
                elif sum < 0: left += 1
                else: right -= 1
        return res
```

```Java
// Java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        List<List<Integer>> ans = new ArrayList<>();
        if (nums == null || nums.length < 3) {
            return ans;
        }
        Arrays.sort(nums);
        for (int i = 0; i < nums.length; i++) {
            if (nums[i] > 0) break;
            if (i > 0 && nums[i] == nums[i - 1]) continue;
            int left = i + 1, right = nums.length - 1;
            while (left < right) {
                int sum = nums[i] + nums[left] + nums[right];
                if (sum == 0) {
                    ans.add(Arrays.asList(nums[i], nums[left], nums[right]));
                    while (left < right && nums[left] == nums[left + 1]) left++;
                    while (left < right && nums[right] == nums[right - 1]) right--;
                    left++;
                    right--;
                } 
                else if (sum < 0) left++;
                else right --;
            }
        }
        return ans;
    }
}
```



## 测试用例

```

[-2,0,1,1,2]
[-4, -2, -1]
```

